<%= form_for(@article) do |f| %>
  <% if @article.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@article.errors.count, "error") %> prohibited this article from being saved:</h2>

      <ul>
      <% @article.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :title %><br>
    <%= f.text_field :title, :value=>@article.title.first, :required=>true %>
  </div>
  <div class="field">
    <%= f.label :subtitle %><br>
    <%= f.text_field :subtitle, :value=>@article.subtitle.first %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_area :description, :value=>@article.description.first %>
  </div>
  <div class="field">
    <%= f.label :abstract %><br>
    <%= f.text_area :abstract, :value=>@article.abstract.first %>
  </div>
  <div class="field">
    <%= f.label :medium %><br>
    <%= f.text_field :medium, :value=>@article.medium.first %>
  </div>
  <div class="field">
    <%= f.label :numPages %><br>
    <%= f.text_field :numPages, :value=>@article.numPages.first %>
  </div>
  <div class="field">
    <%= f.label :pages %><br>
    <%= f.text_field :pages, :value=>@article.pages.first %>
  </div>
  <div class="field">
    <%= f.label :publicationStatus %><br>
    <%= f.text_field :publicationStatus, :value=>@article.publicationStatus.first %>
  </div>
  <div class="field">
    <%= f.label :reviewStatus %><br>
    <%= f.text_field :reviewStatus, :value=>@article.reviewStatus.first %>
  </div>
  <div class="control-group">
    <%= f.label :keyword, "<span class='error'>*</span> Keyword".html_safe, :class=>"control-label" %>
    <div class="controls" id="additional_keyword_clone">
      <%= f.text_field :keyword, :name=>"article[keyword][]", :value=>@article.keyword.first %>
      <button class="adder btn" name="additional_keyword" id="additional_keyword_submit">+<span class="accessible-hidden">add another keyword</span></button>
        &nbsp;
        <%= help_icon(:keyword) %>
    </div>
    <% for k in @article.keyword.from(1) %>
      <div class="controls">
        <%= f.text_field :keyword, :name=>"article[keyword][]", :value=>k %>
        <button id="additional_keyword_submit" class="remover btn" name="additional_keyword">-<span class="accessible-hidden">add another keyword</span></button>
      </div>
    <% end %>
    <div id="additional_keyword_elements"></div>
  </div>
  <%= render partial: "mads_language_fields", as: :article %>
  <% if false %>
  <%= render partial: "mads_topic_fields", as: :mads_topic %>
  <%= render partial: "permission_form", as: :article %>
  <% end %>

  <div class="actions">
    <%= f.submit %>
  </div>

<% end %>
